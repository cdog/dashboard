!function(a){a.widget("charts.chart",{options:{dataUrl:"",title:"",subtitle:"",legendEnabled:!0,legendPosition:"bottom",legendAlign:"center"},chart:null,_create:function(){var b=this;a.getJSON(this.options.dataUrl,function(a){b.chart=AmCharts.makeChart(b.element.get(0),b._getChartConfig(a))})},_destroy:function(){this.chart&&(this.chart.clear(),this.chart=null)},_setOptions:function(a){this._super(a),this._destroy(),this._create()},_getChartConfig:function(){var a={pathToImages:"https://cdn.amcharts.com/lib/3/images/",startDuration:1,titles:[]};return this.options.title&&a.titles.push({text:this.options.title,size:15}),this.options.subtitle&&a.titles.push({text:this.options.subtitle}),this.options.legendEnabled&&(a.legend={position:this.options.legendPosition,align:this.options.legendAlign}),a},resize:function(){this.chart&&this.chart.invalidateSize()}})}(jQuery),function(a){a.widget("charts.serialChart",a.charts.chart,{options:{categoryAxisTitle:"",valueAxisTitle:"",stackType:"none",logarithmic:!1,labelsEnabled:!1,cursorType:"none",scrollbarType:"none"},_getChartConfig:function(b){var c=a.map(b,function(a){for(var b={category:a[0]},c=1;c<a.length;c++)b["column"+c]=a[c];return b}),d=this._super(b);d.type="serial",d.dataProvider=c,d.categoryField="category",this.options.legendEnabled&&(d.legend.useGraphSettings=!0),d.categoryAxis={},this.options.categoryAxisTitle&&(d.categoryAxis.title=this.options.categoryAxisTitle);var e={stackType:this.options.stackType,logarithmic:this.options.logarithmic};this.options.valueAxisTitle&&(e.title=this.options.valueAxisTitle),d.valueAxes=[e],d.graphs=[];for(var f=1;f<b[0].length;f++){var g={id:"graph"+f,title:"Graph "+f,valueField:"column"+f};this.options.labelsEnabled&&(g.labelText="100%"===this.options.stackType?"[[percents]]%":"[[value]]"),d.graphs.push(g)}return"x"===this.options.cursorType?d.chartCursor={cursorPosition:"mouse"}:"xy"===this.options.cursorType&&(d.chartCursor={cursorPosition:"mouse",valueLineBalloonEnabled:!0,valueLineEnabled:!0}),"small"===this.options.scrollbarType?d.chartScrollbar={scrollbarHeight:20}:"medium"===this.options.scrollbarType?d.chartScrollbar={scrollbarHeight:30,graph:"graph1"}:"large"===this.options.scrollbarType&&(d.chartScrollbar={scrollbarHeight:40,graph:"graph1",autoGridCount:!0}),d}})}(jQuery),function(a){a.widget("charts.column",a.charts.serialChart,{options:{type:"2d"},_getChartConfig:function(a){var b=this._super(a);("3d"===this.options.type||"cylinder"===this.options.type)&&(b.angle=30,b.depth3D=30),b.categoryAxis={gridPosition:"start"};for(var c=0;c<b.graphs.length;c++){var d=b.graphs[c];d.type="column",d.fillAlphas=1,"cylinder"===this.options.type&&(d.topRadius=1)}return b}})}(jQuery),function(a){a.widget("charts.bar",a.charts.column,{_getChartConfig:function(a){var b=this._super(a);return b.rotate=!0,b}})}(jQuery),function(a){a.widget("charts.line",a.charts.serialChart,{options:{type:"line",bulletsEnabled:!0},_getChartConfig:function(a){for(var b=this._super(a),c=0;c<b.graphs.length;c++){var d=b.graphs[c];if(d.type=this.options.type,this.options.bulletsEnabled){var e=["round","square","triangleUp","diamond"];d.bullet=e[c%e.length]}}return("x"===this.options.cursorType||"xy"===this.options.cursorType)&&(b.chartCursor.bulletsEnabled=!0),b}})}(jQuery),function(a){a.widget("charts.area",a.charts.line,{_getChartConfig:function(a){for(var b=this._super(a),c=0;c<b.graphs.length;c++)b.graphs[c].fillAlphas=.5;return b}})}(jQuery),function(a){a.widget("charts.pie",a.charts.chart,{options:{is3D:!1,labelsEnabled:!0,pullOutOnlyOne:!0},_getChartConfig:function(b){var c=a.map(b,function(a){return{title:a[0],value:a[1]}}),d=this._super(b);return d.type="pie",d.dataProvider=c,d.titleField="title",d.valueField="value",this.options.is3D&&(d.angle=15,d.depth3D=15),d.labelsEnabled=this.options.labelsEnabled,d.pullOutOnlyOne=this.options.pullOutOnlyOne,d}})}(jQuery),function(a){a.widget("charts.donut",a.charts.pie,{_getChartConfig:function(a){var b=this._super(a);return b.innerRadius="45%",b}})}(jQuery),function(a){a.widget("charts.scatter",a.charts.chart,{options:{xAxisTitle:"",yAxisTitle:"",labelsEnabled:!1,cursorEnabled:!1,scrollbarEnabled:!1},_getChartConfig:function(b){var c=a.map(b,function(b){var c={};return a.each(b,function(a,b){c["x"+(a+1)]=b[0],c["y"+(a+1)]=b[1]}),c}),d=this._super(b);d.type="xy",d.dataProvider=c,this.options.legendEnabled&&(d.legend.useGraphSettings=!0);var e={position:"bottom"};this.options.xAxisTitle&&(e.title=this.options.xAxisTitle);var f={};this.options.yAxisTitle&&(f.title=this.options.yAxisTitle),d.valueAxes=[e,f],d.graphs=[];for(var g=1;g<=b[0].length;g++){var h=["round","square","triangleUp","diamond"],i={id:"graph"+g,title:"Graph "+g,balloonText:"[[x]], [[y]]",bullet:h[(g-1)%h.length],lineAlpha:0,xField:"x"+g,yField:"y"+g};this.options.labelsEnabled&&(i.labelText="[[x]], [[y]]"),d.graphs.push(i)}return this.options.cursorEnabled&&(d.chartCursor={}),this.options.scrollbarEnabled&&(d.chartScrollbar={}),d}})}(jQuery),function(a){a.widget("charts.bubble",a.charts.scatter,{_getChartConfig:function(b){var c=this._super(b);a.each(b,function(b,d){var e=c.dataProvider[b];a.each(d,function(a,b){e["value"+(a+1)]=b[2]})});for(var d=0;d<c.graphs.length;d++){var e=c.graphs[d];e.balloonText="[[x]], [[y]]: [[value]]",e.bullet="bubble",e.valueField="value"+(d+1),this.options.labelsEnabled&&(e.labelText="[[x]], [[y]]: [[value]]")}return c}})}(jQuery),function(a){a.widget("charts.angularGauge",a.charts.chart,{options:{legendEnabled:!1,min:0,max:100,valueInterval:10,low:40,high:60},_getChartConfig:function(a){var b=Math.max(this.options.min,Math.min(this.options.max,a.value)),c=this._super(a);return c.type="gauge",c.arrows=[{value:b}],c.axes=[{startValue:this.options.min,endValue:this.options.max,valueInterval:this.options.valueInterval,bottomText:b+"",bottomTextYOffset:-20,bands:[{startValue:this.options.min,endValue:this.options.low,color:"#00cc00"},{startValue:this.options.low,endValue:this.options.high,color:"#ffac29"},{startValue:this.options.high,endValue:this.options.max,color:"#ea3838",innerRadius:"95%"}]}],c}})}(jQuery),function(a){a.widget("charts.cylinderGauge",a.charts.chart,{options:{legendEnabled:!1,labelsEnabled:!1,max:100},_getChartConfig:function(a){var b=Math.max(0,Math.min(this.options.max,a.value)),c=[{category:"",column1:b,column2:this.options.max-b}],d=this._super(a);d.type="serial",d.dataProvider=c,d.categoryField="category",d.angle=30,d.depth3D=100,d.autoMargins=!1,d.marginTop=0,d.marginRight=0,d.marginBottom=35,d.marginLeft=85,d.categoryAxis={labelsEnabled:!1,axisAlpha:0,gridAlpha:0},d.valueAxes=[{stackType:"100%",gridAlpha:0}],d.graphs=[];for(var e=1;2>=e;e++){var f={type:"column",id:"graph"+e,title:"Graph "+e,valueField:"column"+e,columnWidth:1,topRadius:1,showOnAxis:!0,fillAlphas:1.3-.4*e,balloonText:"[[percents]]%"};this.options.labelsEnabled&&(f.labelText="<br><br>[[percents]]%"),d.graphs.push(f)}return d}})}(jQuery),function(a){a.widget("charts.funnel",a.charts.chart,{options:{legendEnabled:!1,labelsEnabled:!0,labelsPosition:"right",valueRepresents:"height",pullOutOnlyOne:!0},_getChartConfig:function(b){var c=a.map(b,function(a){return{title:a[0],value:a[1]}}),d=this._super(b);return d.type="funnel",d.dataProvider=c,d.titleField="title",d.valueField="value",d.neckWidth="40%",d.neckHeight="30%",this.options.labelsEnabled?(d.labelPosition=this.options.labelsPosition,"left"===this.options.labelsPosition?d.marginLeft=140:"right"===this.options.labelsPosition&&(d.marginRight=140)):d.labelText=" ",d.valueRepresents=this.options.valueRepresents,d.pullOutOnlyOne=this.options.pullOutOnlyOne,d}})}(jQuery),function(a){a.widget("charts.pyramid",a.charts.funnel,{_getChartConfig:function(a){var b=this._super(a);return b.neckWidth=0,b.neckHeight=0,b.rotate=!0,b}})}(jQuery);